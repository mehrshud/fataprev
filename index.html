<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Portfolio • Yazd Cyber Police Projects</title>
    <meta
      name="description"
      content="Professional portfolio of projects developed for Yazd Cyber Police, with live GitHub stats and smooth animations."
    />
    <meta name="color-scheme" content="dark light" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --ring: 0 212 255;
        --bg1: #0b1020;
        --bg2: #141a35;
        --bg3: #1f2654;
        --brand1: rgba(0, 212, 255, 0.28);
        --brand2: rgba(124, 58, 237, 0.28);
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI,
          Roboto, Arial;
        background: radial-gradient(
            1200px 800px at 10% -10%,
            var(--brand1),
            transparent 60%
          ),
          radial-gradient(
            900px 700px at 110% 110%,
            var(--brand2),
            transparent 60%
          ),
          linear-gradient(130deg, var(--bg1), var(--bg2), var(--bg3));
        color: #f8fafc;
        overflow-x: hidden;
      }
      /* Decorative ambient dots */
      .stars {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: -1;
      }
      .stars span {
        position: absolute;
        width: 2px;
        height: 2px;
        background: rgba(255, 255, 255, 0.45);
        border-radius: 50%;
        animation: twinkle 3.2s infinite ease-in-out;
      }
      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.15;
          transform: scale(0.9);
        }
        50% {
          opacity: 0.75;
          transform: scale(1.35);
        }
      }

      /* Page loader */
      .loader {
        position: fixed;
        inset: 0;
        display: grid;
        place-items: center;
        background: rgba(10, 12, 24, 0.9);
        z-index: 60;
        backdrop-filter: blur(6px);
        transition: opacity 0.5s ease, visibility 0.5s ease;
      }
      .loader.hidden {
        opacity: 0;
        visibility: hidden;
      }
      .ring {
        width: 72px;
        height: 72px;
        border-radius: 999px;
        border: 3px solid rgba(255, 255, 255, 0.18);
        border-top-color: rgb(var(--ring));
        animation: spin 1s linear infinite;
        box-shadow: 0 0 40px rgba(var(--ring), 0.35);
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      .logo-type {
        margin-top: 16px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 700;
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
      }

      /* Cards */
      .card {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.06),
          rgba(255, 255, 255, 0.03)
        );
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 1.5rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
        transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1),
          box-shadow 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), border-color 0.3s ease;
        transform-style: preserve-3d;
        perspective: 1000px;
        opacity: 0;
        transform: translateY(18px) scale(0.98);
      }
      .card.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      .card:hover {
        transform: translateY(-8px) scale(1.01) rotateX(0.35deg)
          rotateY(-0.65deg);
        box-shadow: 0 30px 80px rgba(var(--ring), 0.25);
        border-color: rgba(255, 255, 255, 0.2);
      }
      .thumb {
        position: relative;
        height: 11rem;
        overflow: hidden;
        border-radius: 1rem;
      }
      .thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.9;
        transition: opacity 0.3s ease;
      }
      .thumb::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.45),
          transparent 65%
        );
      }
      .card:hover .thumb img {
        opacity: 1;
      }

      /* Skeletons */
      .skeleton {
        position: relative;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.08);
        border-radius: 0.5rem;
      }
      .skeleton::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.15),
          transparent
        );
        transform: translateX(-100%);
        animation: shimmer 1.4s infinite;
      }
      @keyframes shimmer {
        100% {
          transform: translateX(100%);
        }
      }

      /* Tech tags */
      .tag {
        font-size: 0.75rem;
        padding: 0.35rem 0.65rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.22);
        background: rgba(255, 255, 255, 0.06);
      }

      /* Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        height: 2.75rem;
        border-radius: 0.9rem;
        padding: 0 1rem;
        border: 1px solid rgba(255, 255, 255, 0.18);
        transition: background 0.25s ease, color 0.25s ease, transform 0.2s ease,
          box-shadow 0.25s ease;
        background: rgba(255, 255, 255, 0.06);
      }
      .btn:hover {
        background: #fff;
        color: #000;
        transform: translateY(-1px);
        box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
      }
      .btn[aria-disabled="true"] {
        opacity: 0.45;
        cursor: not-allowed;
      }

      /* Section dividers */
      .divider {
        height: 1px;
        background: linear-gradient(
          to right,
          transparent,
          rgba(255, 255, 255, 0.15),
          transparent
        );
      }

      /* Parallax blobs */
      .blob {
        position: absolute;
        border-radius: 999px;
        filter: blur(60px);
        opacity: 0.5;
        transition: transform 0.3s ease;
      }

      /* Reduced motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
        }
        .card:hover {
          transform: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- Ambient stars -->
    <div class="stars" aria-hidden="true"></div>

    <!-- Parallax blobs -->
    <div
      aria-hidden="true"
      class="pointer-events-none fixed inset-0 -z-10 overflow-hidden"
    >
      <div
        class="blob"
        id="blob1"
        style="
          top: -80px;
          left: -80px;
          width: 420px;
          height: 420px;
          background: radial-gradient(
            circle at 30% 30%,
            var(--brand1),
            transparent 60%
          );
        "
      ></div>
      <div
        class="blob"
        id="blob2"
        style="
          bottom: -40px;
          right: -60px;
          width: 460px;
          height: 460px;
          background: radial-gradient(
            circle at 70% 70%,
            var(--brand2),
            transparent 60%
          );
        "
      ></div>
    </div>

    <!-- Page Loader -->
    <div
      id="loader"
      class="loader"
      role="status"
      aria-live="polite"
      aria-label="Loading"
    >
      <div>
        <div class="ring"></div>
        <div class="logo-type">Initializing Portfolio</div>
      </div>
    </div>

    <header class="max-w-6xl mx-auto px-6 pt-14 md:pt-20 pb-10 text-center">
      <div
        class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/15 text-white/70 text-sm mb-4"
      >
        <span
          class="w-1.5 h-1.5 rounded-full"
          style="
            background: rgb(var(--ring));
            box-shadow: 0 0 16px rgba(var(--ring), 0.8);
          "
        ></span>
        Yazd Cyber Police
      </div>
      <h1
        class="text-4xl md:text-5xl font-extrabold tracking-tight mb-3 bg-gradient-to-r from-white to-cyan-300 bg-clip-text text-transparent"
      >
        Project Portfolio
      </h1>
      <p class="text-white/80 max-w-2xl mx-auto">
        A curated set of software built for the Yazd Cyber Police. Live GitHub
        signals, professional visuals, and smooth animations.
      </p>
      <nav
        class="mt-6 flex items-center justify-center gap-3 text-sm text-white/70"
      >
        <a
          class="hover:text-white transition-colors underline-offset-4 hover:underline"
          href="#projects"
          >Projects</a
        >
        <span aria-hidden="true">•</span>
        <a
          class="hover:text-white transition-colors underline-offset-4 hover:underline"
          href="#about"
          >About</a
        >
        <span aria-hidden="true">•</span>
        <a
          class="hover:text-white transition-colors underline-offset-4 hover:underline"
          href="#contact"
          >Contact</a
        >
      </nav>
    </header>

    <!-- Curved SVG divider -->
    <div class="relative">
      <svg
        aria-hidden="true"
        width="100%"
        height="50"
        viewBox="0 0 1440 60"
        preserveAspectRatio="none"
      >
        <path
          d="M0,32 C320,64 1120,0 1440,32 L1440,60 L0,60 Z"
          fill="rgba(255,255,255,.06)"
        ></path>
      </svg>
    </div>

    <main class="max-w-6xl mx-auto px-6 pb-24">
      <!-- Projects -->
      <section
        id="projects"
        aria-label="Featured projects"
        class="scroll-mt-24"
      >
        <div class="flex items-end justify-between mb-6">
          <h2 class="text-2xl md:text-3xl font-bold">Featured Projects</h2>
          <div
            class="text-xs font-medium px-2 py-1 rounded-full border border-white/15 text-white/70"
          >
            Auto-updating
          </div>
        </div>

        <div
          class="grid gap-6 sm:gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"
        >
          <!-- Bankiran -->
          <article class="card p-6 reveal" role="article">
            <div
              class="thumb mb-5"
              style="background: linear-gradient(135deg, #f093fb, #f5576c)"
            >
              <img
                src="https://opengraph.githubassets.com/1/mehrshud/Bankiran"
                alt="Bankiran repository preview"
                loading="lazy"
                onerror="this.style.display='none'"
              />
            </div>
            <header class="mb-3">
              <h3 class="text-xl font-semibold">Bankiran</h3>
              <p class="text-white/80 mt-1">
                Card number & transaction analyzer with Luhn validation,
                advanced filtering, RTL UI, and Excel export.
              </p>
            </header>
            <div class="flex items-center gap-3 text-sm text-white/70 mb-3">
              <span
                class="last-updated skeleton h-4 w-36 rounded"
                data-repo="mehrshud/Bankiran"
                aria-live="polite"
                style="display: inline-block"
              ></span>
              <span
                class="w-1.5 h-1.5 rounded-full"
                style="background: rgba(124, 58, 237, 0.6)"
              ></span>
              <span
                class="langs skeleton h-4 w-40 rounded"
                data-repo-langs="mehrshud/Bankiran"
                style="display: inline-block"
              ></span>
            </div>
            <div class="flex flex-wrap gap-3 mt-4">
              <a
                class="btn"
                href="https://github.com/mehrshud/Bankiran"
                target="_blank"
                rel="noopener"
                aria-label="Open Bankiran GitHub"
                >GitHub</a
              >
              <a
                class="btn"
                href="https://bankiran.vercel.app/"
                target="_blank"
                rel="noopener"
                aria-label="Open Bankiran Live Demo"
                >Live Demo</a
              >
            </div>
          </article>

          <!-- Kavosh Frontend -->
          <article class="card p-6 reveal" role="article">
            <div
              class="thumb mb-5"
              style="background: linear-gradient(135deg, #667eea, #764ba2)"
            >
              <img
                src="https://opengraph.githubassets.com/1/mehrshud/kavosh"
                alt="Kavosh Frontend repository preview"
                loading="lazy"
                onerror="this.style.display='none'"
              />
            </div>
            <header class="mb-3">
              <h3 class="text-xl font-semibold">Kavosh (Frontend)</h3>
              <p class="text-white/80 mt-1">
                Multi-platform social search with AI analysis (OpenAI/Gemini),
                analytics, and RTL support.
              </p>
            </header>
            <div class="flex items-center gap-3 text-sm text-white/70 mb-3">
              <span
                class="last-updated skeleton h-4 w-36 rounded"
                data-repo="mehrshud/kavosh"
                aria-live="polite"
                style="display: inline-block"
              ></span>
              <span
                class="w-1.5 h-1.5 rounded-full"
                style="background: rgba(124, 58, 237, 0.6)"
              ></span>
              <span
                class="langs skeleton h-4 w-40 rounded"
                data-repo-langs="mehrshud/kavosh"
                style="display: inline-block"
              ></span>
            </div>
            <div class="flex flex-wrap gap-3 mt-4">
              <a
                class="btn"
                href="https://github.com/mehrshud/kavosh"
                target="_blank"
                rel="noopener"
                aria-label="Open Kavosh Frontend GitHub"
                >GitHub</a
              >
              <a
                class="btn"
                href="https://newkavosh.vercel.app/"
                target="_blank"
                rel="noopener"
                aria-label="Open Kavosh Live Demo"
                >Live Demo</a
              >
            </div>
          </article>

          <!-- Kavosh Backend -->
          <article class="card p-6 reveal" role="article">
            <div
              class="thumb mb-5"
              style="background: linear-gradient(135deg, #4e54c8, #8f94fb)"
            >
              <img
                src="https://opengraph.githubassets.com/1/mehrshud/kavosh-backend"
                alt="Kavosh Backend repository preview"
                loading="lazy"
                onerror="this.style.display='none'"
              />
            </div>
            <header class="mb-3">
              <h3 class="text-xl font-semibold">Kavosh (Backend)</h3>
              <p class="text-white/80 mt-1">
                Node.js backend powering Kavosh platform with server/API
                codebase.
              </p>
            </header>
            <div class="flex items-center gap-3 text-sm text-white/70 mb-3">
              <span
                class="last-updated skeleton h-4 w-36 rounded"
                data-repo="mehrshud/kavosh-backend"
                aria-live="polite"
                style="display: inline-block"
              ></span>
              <span
                class="w-1.5 h-1.5 rounded-full"
                style="background: rgba(124, 58, 237, 0.6)"
              ></span>
              <span
                class="langs skeleton h-4 w-40 rounded"
                data-repo-langs="mehrshud/kavosh-backend"
                style="display: inline-block"
              ></span>
            </div>
            <div class="flex flex-wrap gap-3 mt-4">
              <a
                class="btn"
                href="https://github.com/mehrshud/kavosh-backend"
                target="_blank"
                rel="noopener"
                aria-label="Open Kavosh Backend GitHub"
                >GitHub</a
              >
              <a class="btn" aria-disabled="true" tabindex="-1">Live Demo</a>
            </div>
          </article>

          <!-- Telyab -->
          <article class="card p-6 reveal" role="article">
            <div
              class="thumb mb-5"
              style="background: linear-gradient(135deg, #4facfe, #00f2fe)"
            >
              <img
                src="https://opengraph.githubassets.com/1/mehrshud/telyab"
                alt="Telyab repository preview"
                loading="lazy"
                onerror="this.style.display='none'"
              />
            </div>
            <header class="mb-3">
              <h3 class="text-xl font-semibold">Telyab</h3>
              <p class="text-white/80 mt-1">
                Telegram username lookup with dark mode, history, and modern UI.
              </p>
            </header>
            <div class="flex items-center gap-3 text-sm text-white/70 mb-3">
              <span
                class="last-updated skeleton h-4 w-36 rounded"
                data-repo="mehrshud/telyab"
                aria-live="polite"
                style="display: inline-block"
              ></span>
              <span
                class="w-1.5 h-1.5 rounded-full"
                style="background: rgba(124, 58, 237, 0.6)"
              ></span>
              <span
                class="langs skeleton h-4 w-40 rounded"
                data-repo-langs="mehrshud/telyab"
                style="display: inline-block"
              ></span>
            </div>
            <div class="flex flex-wrap gap-3 mt-4">
              <a
                class="btn"
                href="https://github.com/mehrshud/telyab"
                target="_blank"
                rel="noopener"
                aria-label="Open Telyab GitHub"
                >GitHub</a
              >
              <a
                class="btn"
                href="https://telyab.vercel.app/"
                target="_blank"
                rel="noopener"
                aria-label="Open Telyab Live Demo"
                >Live Demo</a
              >
            </div>
          </article>
        </div>
      </section>

      <div class="my-14 divider" role="presentation"></div>

      <!-- About -->
      <section id="about" class="mt-10 scroll-mt-24">
        <h2 class="text-2xl md:text-3xl font-bold mb-4">About</h2>
        <p class="text-white/80 max-w-3xl">
          Projects on this page were developed for the
          <strong>Yazd Cyber Police</strong>. Focus: reliable tooling, clean UI,
          and accessible UX. The portfolio displays live GitHub metadata and
          uses motion to guide attention.
        </p>
      </section>

      <!-- Contact -->
      <section id="contact" class="mt-16 scroll-mt-24">
        <h2 class="text-2xl md:text-3xl font-bold mb-4">Contact</h2>
        <p class="text-white/80">
          Email:
          <a
            class="underline underline-offset-4 hover:text-white"
            href="mailto:mehrshadhamavandy@gmail.com"
            >mehrshadhamavandy@gmail.com</a
          >
        </p>
      </section>
    </main>

    <footer class="max-w-6xl mx-auto px-6 pb-16 pt-8 text-center text-white/70">
      <p class="mb-1">
        &copy; <span id="year"></span> Yazd Cyber Police — All rights reserved.
      </p>
      <p class="text-white/60 text-sm">
        This portfolio showcases software created specifically for the Yazd
        Cyber Police. Redistribution or reuse requires explicit permission.
      </p>
    </footer>

    <!-- GitHub dynamic meta + animations -->
    <script>
      // Year
      document.getElementById("year").textContent = new Date().getFullYear();

      // Ambient stars (lightweight)
      const stars = document.querySelector(".stars");
      for (let i = 0; i < 80; i++) {
        const s = document.createElement("span");
        s.style.left = Math.random() * 100 + "%";
        s.style.top = Math.random() * 100 + "%";
        s.style.animationDelay = Math.random() * 3 + "s";
        stars.appendChild(s);
      }

      // Page loader: hide after initial network ops
      const loader = document.getElementById("loader");
      window.addEventListener("load", () =>
        setTimeout(() => loader.classList.add("hidden"), 450)
      );

      // Parallax blobs follow cursor slightly
      const lerp = (a, b, t) => a + (b - a) * t;
      const target = { x: 0, y: 0 };
      const state = { x: 0, y: 0 };
      function tick() {
        state.x = lerp(state.x, target.x, 0.06);
        state.y = lerp(state.y, target.y, 0.06);
        const b1 = document.getElementById("blob1");
        const b2 = document.getElementById("blob2");
        if (b1)
          b1.style.transform = `translate(${state.x * 0.03}px, ${
            state.y * 0.02
          }px)`;
        if (b2)
          b2.style.transform = `translate(${state.x * -0.02}px, ${
            state.y * -0.03
          }px)`;
        requestAnimationFrame(tick);
      }
      tick();
      window.addEventListener(
        "mousemove",
        (e) => {
          const cx = window.innerWidth / 2,
            cy = window.innerHeight / 2;
          target.x = e.clientX - cx;
          target.y = e.clientY - cy;
        },
        { passive: true }
      );

      // Intersection-based reveal for cards
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add("visible");
              io.unobserve(e.target);
            }
          });
        },
        { threshold: 0.15 }
      );
      document.querySelectorAll(".card.reveal").forEach((el) => io.observe(el));

      // ---- GitHub helpers ----
      const GH_HEADERS = {
        "X-GitHub-Api-Version": "2022-11-28",
        Accept: "application/vnd.github+json",
      };
      const cacheGet = (k) => {
        try {
          const o = JSON.parse(localStorage.getItem(k));
          if (!o || Date.now() > o.exp) return null;
          return o.data;
        } catch {
          return null;
        }
      };
      const cacheSet = (k, data, ttl = 12 * 60 * 60 * 1000) => {
        try {
          localStorage.setItem(
            k,
            JSON.stringify({ data, exp: Date.now() + ttl })
          );
        } catch {}
      };

      const timeAgo = (iso) => {
        if (!iso) return "—";
        const s = Math.max(0, (Date.now() - new Date(iso)) / 1000);
        const units = [
          [60, "s"],
          [60, "m"],
          [24, "h"],
          [7, "d"],
          [4.345, "wk"],
          [12, "mo"],
        ];
        let v = s;
        for (const [step, l] of units) {
          if (v < step) return `${Math.floor(v)}${l} ago`;
          v /= step;
        }
        return `${Math.floor(v)}y ago`;
      };

      async function json(url) {
        const r = await fetch(url, { headers: GH_HEADERS });
        if (!r.ok) throw new Error(r.status + " " + r.statusText);
        return r.json();
      }

      async function latestUpdatedISO(repo) {
        const key = `gh:updated:${repo}`;
        const cached = cacheGet(key);
        if (cached) return cached;
        try {
          const commits = await json(
            `https://api.github.com/repos/${repo}/commits?per_page=1`
          );
          const iso =
            commits?.[0]?.commit?.author?.date ||
            commits?.[0]?.commit?.committer?.date ||
            null;
          cacheSet(key, iso);
          return iso;
        } catch {
          try {
            const meta = await json(`https://api.github.com/repos/${repo}`);
            const iso = meta?.pushed_at || meta?.updated_at || null;
            cacheSet(key, iso);
            return iso;
          } catch {
            return null;
          }
        }
      }

      async function topLanguages(repo) {
        const key = `gh:langs:${repo}`;
        const cached = cacheGet(key);
        if (cached) return cached;
        try {
          const langs = await json(
            `https://api.github.com/repos/${repo}/languages`
          );
          const top = Object.entries(langs)
            .sort((a, b) => b[1] - a[1])
            .slice(0, 6)
            .map(([n]) => n);
          cacheSet(key, top);
          return top;
        } catch {
          return [];
        }
      }

      function unskeleton(el, text) {
        el.classList.remove("skeleton");
        el.style.width = "auto";
        el.textContent = text;
      }

      async function enhance(repo) {
        const updatedEls = document.querySelectorAll(
          `.last-updated[data-repo="${repo}"]`
        );
        const langsEls = document.querySelectorAll(
          `.langs[data-repo-langs="${repo}"]`
        );
        try {
          const [iso, langs] = await Promise.all([
            latestUpdatedISO(repo),
            topLanguages(repo),
          ]);
          updatedEls.forEach((el) =>
            unskeleton(el, iso ? `Updated ${timeAgo(iso)}` : "Updated —")
          );
          langsEls.forEach((el) => {
            el.classList.remove("skeleton");
            el.style.width = "auto";
            el.innerHTML = langs.length
              ? langs.map((l) => `<span class="tag">${l}</span>`).join(" ")
              : `<span class="text-white/60">Tech n/a</span>`;
          });
        } catch (e) {
          updatedEls.forEach((el) => unskeleton(el, "Updated —"));
          langsEls.forEach((el) => {
            el.classList.remove("skeleton");
            el.textContent = "Tech n/a";
          });
        }
      }

      [
        "mehrshud/Bankiran",
        "mehrshud/kavosh",
        "mehrshud/kavosh-backend",
        "mehrshud/telyab",
      ].forEach(enhance);
    </script>
  </body>
</html>
